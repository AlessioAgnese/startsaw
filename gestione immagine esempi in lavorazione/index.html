<!DOCTYPE html>
<html>
    <head>
        <title>Progetto SAW</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
 </head>
<body>
    <form enctype="multipart/form-data" action="javascript:void(0);">
    <input type="file" name="image" id="image">
    <input type="submit" name="insert" id="insert" value="Insert">
    </form>
</body>
</html>
<script>
$(document).ready(function(){
    $.ajax({
            url: 'http://localhost/get.php',
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                if (data.ok) {
                    console.log("prese");
                } else {
                    console.log("problemi");
                }
            },
            error: function (errorThrown) {
                console.log(errorThrown);
            }
        })

    $('#insert').click(function(){
        if($('#image').val() == '') {
            alert('select image');
            console.log("no image");
            return false;}
        else{
            if(jQuery.inArray($('#image').val().split('.').pop().toLowerCase(), ['gif','png','jpg','jpeg','bmp']) == -1){
                alert('invalid ext');
                $('#image').val('');
                console.log("invalid ext");
                return false;
            }
        }
        $.ajax({
            url: 'http://localhost/insert.php',
            type: 'POST',
            dataType: 'json',
            data: JSON.stringify({
                img: $('#image').val()
            }),
            success: function (data) {
                if (data.ok) {
                    console.log("inserita?");
                } else {
                    console.log("problemi");
                }
            },
            error: function (errorThrown) {
                console.log(errorThrown);
            }
        })
    })
});



</script>